{% extends 'menu/base.html' %} {% block body %}
<div class="max-w-2xl mx-auto p-8">
  <div
    class="bg-white rounded-3xl shadow-xl p-8 hover:shadow-2xl transition-all duration-500"
  >
    <h2
      class="text-3xl font-extrabold text-gray-800 mb-6 border-b-4 border-blue-600 inline-block pb-2"
    >
      ุงูุฒูุฏู / ูุฑุงุด ุขุชู ๐ฝ๏ธ
    </h2>

    <form method="POST" class="space-y-6">
      {% csrf_token %}

      <div>
        <label for="id_item_name" class="block text-gray-700 font-semibold mb-2"
          >ูุงู ุบุฐุง</label
        >
        <input
          type="text"
          name="item_name"
          id="id_item_name"
          value="{{ form.item_name.value|default:'' }}"
          class="w-full border border-gray-300 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm transition-all"
          required
        />
      </div>

      <div>
        <label for="id_item_desc" class="block text-gray-700 font-semibold mb-2"
          >ุชูุถุญุงุช</label
        >
        <textarea
          name="item_desc"
          id="id_item_desc"
          class="w-full border border-gray-300 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm transition-all"
          required
        >
{{ form.item_desc.value|default:'' }}</textarea
        >
      </div>

      <div>
        <label
          for="id_item_price"
          class="block text-gray-700 font-semibold mb-2"
          >ููุช (ุชููุงู)</label
        >
        <input
          type="number"
          name="item_price"
          id="id_item_price"
          value="{{ form.item_price.value|default:'' }}"
          class="w-full border border-gray-300 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm transition-all"
          required
        />
      </div>

      <div>
        <label
          for="id_item_image"
          class="block text-gray-700 font-semibold mb-2"
          >ุขุฏุฑุณ ุชุตูุฑ</label
        >
        <div class="flex items-center space-x-2 rtl:space-x-reverse">
          <input
            type="text"
            name="item_image"
            id="id_item_image"
            value="{{ form.item_image.value|default:'' }}"
            class="flex-1 border border-gray-300 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm transition-all"
            placeholder="ููฺฉ ุชุตูุฑ ุฑุง ูุงุฑุฏ ฺฉูุฏ"
            required
          />
          <button
            type="button"
            id="preview-btn"
            class="bg-blue-600 text-white px-4 py-2 rounded-xl hover:bg-blue-500 transition-all shadow-md"
          >
            ๐ ููุงุด
          </button>
        </div>

        <!-- ุฌุง ฺฉู ุชุตูุฑ ููุฏ ูโุดู -->
        <div class="mt-4">
          <img
            id="image-preview"
            class="max-w-full rounded-xl shadow-md hidden"
            alt="ูพุดโููุงุด ุชุตูุฑ"
          />
        </div>
      </div>

      <button
        type="submit"
        class="w-full bg-blue-600 text-white font-bold py-3 rounded-full hover:bg-blue-500 active:scale-95 transition-all shadow-md cursor-pointer"
      >
        ๐พ ุฐุฎุฑู
      </button>
    </form>
  </div>
</div>
<script>
  const previewBtn = document.getElementById("preview-btn");
  const imageInput = document.getElementById("id_item_image");
  const imagePreview = document.getElementById("image-preview");

  previewBtn.addEventListener("click", () => {
    const url = imageInput.value.trim();
    if (!url) return;

    // ุชุบุฑ src ู ููุงุด ุนฺฉุณ
    imagePreview.src = url;
    imagePreview.classList.remove("hidden");

    // ุงฺฏุฑ ุนฺฉุณ ููุฏ ูุดุฏุ ฺฉ ูพุงู ุฎุทุง ุณุงุฏู ููุงุด ุจุฏู
    imagePreview.onerror = () => {
      alert("ุงู ููฺฉ ุชุตูุฑ ูุนุชุจุฑ ูุณุช ุง ููโุชูุงูุฏ ููุฏ ุดูุฏ ๐");
      imagePreview.classList.add("hidden");
    };
  });
</script>
{% endblock %}
